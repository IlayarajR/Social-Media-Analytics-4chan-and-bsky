
@app.route('/api/sports-topics')
def sports_topics():
    platform = request.args.get('platform', 'sp')
    top_n = int(request.args.get('top_n', 30))
    
    from feature_sports_topics import extract_top_words, categorize_sports
    
    words_df = extract_top_words(platform, top_n=top_n)
    sports_df = categorize_sports(words_df)
    
    return jsonify({
        'top_words': words_df.to_dict('records'),
        'sports': sports_df.to_dict('records')
    })
